<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="search" type="application/opensearchdescription+xml" title="AML" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Async + RAML Data Types in AMF | AML</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Async + RAML Data Types in AMF | AML"><meta data-react-helmet="true" name="description" content="This is a technical document, this information is intended for experienced users"><meta data-react-helmet="true" property="og:description" content="This is a technical document, this information is intended for experienced users"><meta data-react-helmet="true" property="og:url" content="https://aml-org.github.io/docs/related/async_raml_datatypes"><link data-react-helmet="true" rel="shortcut icon" href="/img/logos/amlLogo.svg"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://aml-org.github.io/docs/related/async_raml_datatypes"><link rel="stylesheet" href="/styles.fb97db39.css">
<link rel="stylesheet" href="/main.bb044ee0.css">
<link rel="preload" href="/styles.3e225d29.js" as="script">
<link rel="preload" href="/runtime~main.ec3c9e33.js" as="script">
<link rel="preload" href="/main.fc69e7f1.js" as="script">
<link rel="preload" href="/1.bb102a6f.js" as="script">
<link rel="preload" href="/2.461c41ab.js" as="script">
<link rel="preload" href="/1be78505.51367d36.js" as="script">
<link rel="preload" href="/935f2afb.17b72296.js" as="script">
<link rel="preload" href="/39.10c467ad.js" as="script">
<link rel="preload" href="/96ed9e95.e96a2592.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logos/amlLogo.svg" alt="AML logo icon" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logos/amlLogo.svg" alt="AML logo icon" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/AML/aml">AML</a><a class="navbar__item navbar__link" href="/docs/AMF/amf_intro">AMF</a></div><div class="navbar__items navbar__items--right"><a href="https://www.npmjs.com/package/amf-client-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-npm-link" aria-label="npm link"></a><a href="https://github.com/aml-org/amf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logos/amlLogo.svg" alt="AML logo icon" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logos/amlLogo.svg" alt="AML logo icon" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/AML/aml">AML</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/AMF/amf_intro">AMF</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/amf-client-js" target="_blank" rel="noopener noreferrer" class="menu__link header-npm-link" aria-label="npm link"></a></li><li class="menu__list-item"><a href="https://github.com/aml-org/amf" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">AMF</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/amf_intro">What is AMF?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/amf_support">AMFs supported Specs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Using AMF</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/using-amf/amf_setup">AMF project configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/using-amf/amf_initialization">AMF initialization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/using-amf/amf_parsing">Parsing with AMF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/using-amf/amf_resolution">Resolution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/using-amf/amf_validation">Validation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/using-amf/amf_emission">Emission</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AMF/using-amf/amf_model">AMF Model Resources</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">AML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AML/aml">What is AML?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/AML/aml_spec">AML Specification</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Customizable configurations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/custom/resource_loaders">Custom resource loaders</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Other features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/other/payload_validation">How to validate payloads</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Related Docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/related/amf_conversion">AMF Conversion</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/related/async_raml_datatypes">Async + RAML Data Types in AMF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/related/json_schema_draft_2019_09_to_draft_7">Json Schema Draft 2019-09 to Draft 7 Emission</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Async + RAML Data Types in AMF</h1></header><div class="markdown"><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Technical Document</h5></div><div class="admonition-content"><p>This is a technical document, this information is intended for experienced users</p></div></div><p>Within the Async specification it is possible to use RAML data types to define a payload, taking into account that the schema format is specified accordingly.
Both specifications have their own distinct referencing and modularization mechanisms, and it is not clear where to draw the line to determine where one specification stops, and the other one starts.
This document will describe how to use RAML types in Async when using AMF.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="referencing-external-raml-content-using-ref"></a>Referencing external RAML content using <code>$ref</code><a class="hash-link" href="#referencing-external-raml-content-using-ref" title="Direct link to heading">#</a></h2><p>In order to support referencing RAML content in external files, AMF allows the use of the <code>$ref</code> mechanism present in Async.
This enables referencing data type fragments, data types present in libraries, as well as any RAML content present in yaml or json files.</p><p>However, the usage of <code>$ref</code> in this scenario has some restrictions. Given that the payload content must comply with RAML,
<strong>the <code>$ref</code> may only be used at the root of the payload definition as an exception to the RAML specification</strong>.
Its target content must be valid structurally according to the relevant RAML specification:</p><div class="container"><div class="row"><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">‘$ref’ at root of payload (Valid)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/RAML+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> “</span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain">” </span><span class="token comment" style="color:#999988;font-style:italic"># must reference raml content</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">‘$ref’ nested within RAML content (Invalid)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object</span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> “</span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain">” </span><span class="token comment" style="color:#999988;font-style:italic"># &#x27;$ref&#x27; is not valid in RAML</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div><p>The following section shows all supported use cases when using this referencing mechanism, adding additional comments if necessary.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="reference-to-data-type-fragments"></a>Reference to data type fragments<a class="hash-link" href="#reference-to-data-type-fragments" title="Direct link to heading">#</a></h3><p>The data type fragment must be self-contained, meaning it cannot depend on any definition made in the root API. The following example is <strong>valid</strong> for this use case.</p><div class="container"><div class="row"><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Async API</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">type.raml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">RAML data type fragment (external-data-type.raml)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#%RAML 1.0 DataType</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> object</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div><p>The following referenced data type is <strong>invalid</strong> as it is not self-contained, meaning the data type fragment depends on type definitions which will not be resolved in the root API.
Due to known limitations this API will not return any validations (error or warning), but the reference to the type <code>Other</code> inside the data type will not be made, leaving it unresolved.</p><div class="container"><div class="row"><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Async API</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">schemas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">Other</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">channels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">users/signup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">subscribe</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">message</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">type.raml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">RAML data type fragment (external-data-type.raml)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#%RAML 1.0 DataType</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Other</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div><p>Use of relative pointers to nested content within the data type fragment is not supported, like in the following <strong>invalid</strong> example:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">type.raml</span><span class="token comment" style="color:#999988;font-style:italic">#/properties/a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="reference-to-types-in-library-fragments"></a>Reference to types in library fragments<a class="hash-link" href="#reference-to-types-in-library-fragments" title="Direct link to heading">#</a></h3><p>For the case of libraries, type definitions can be referenced using the following fixed pointer: <code>{lib}#/types/{typeName}</code>.
When referencing types defined in a library, the included content will have context of other type definitions present in the original library.
This can be seen in the following <strong>valid</strong> example where the type User references another type present in the external library.</p><div class="container"><div class="row"><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Async API</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ../external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">library.raml</span><span class="token comment" style="color:#999988;font-style:italic">#/types/User</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">RAML library fragment (external-library.raml)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#%RAML 1.0 Library</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">types</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">User</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Other </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> string</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Other</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div><p><strong>The external library must be self-contained</strong>, meaning it cannot depend on types defined in the root API.
In the following <strong>invalid</strong> example, the library depends on the definition of the type Other, which will not be resolved from the definitions present in the main API.</p><div class="container"><div class="row"><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Async API</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">schemas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">Other</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">channels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">users/signup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">subscribe</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">message</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ../external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">library.raml</span><span class="token comment" style="color:#999988;font-style:italic">#/types/User</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">RAML library fragment (external-library.raml)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#%RAML 1.0 Library</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">types</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">User</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Other </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> string</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="reference-to-external-yamljson-files"></a>Reference to external yaml/json files<a class="hash-link" href="#reference-to-external-yamljson-files" title="Direct link to heading">#</a></h3><p>When referencing external yaml or json files, the <code>$ref</code> inlines the content.
Relative json pointers can be used to reference content that is nested within the file, but taking into account the following limitation:</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>When referencing to external yaml/json files</h5></div><div class="admonition-content"><p>the external file <strong>must not</strong> be a known RAML fragment or API specification.</p></div></div><p>The following case is a <strong>valid</strong> reference making use of relative json pointers.</p><div class="container"><div class="row"><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Async API</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">yaml.yaml</span><span class="token comment" style="color:#999988;font-style:italic">#/definitions/User</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Yaml file (external-yaml.yaml)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">definitions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">User</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> object</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div><p>As previously mentioned, when the target file is a known RAML fragment or API specification free use of relative json pointers is not supported.
The following example shows an <strong>invalid</strong> example when using relative json pointer to reference an external RAML specification:</p><div class="container"><div class="row"><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Async API</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">$ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ../api.raml</span><span class="token comment" style="color:#999988;font-style:italic">#/types/User</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">External RAML API (api.raml)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#%RAML 1.0</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Instagram API</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">types</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">User</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="inlined-raml-types"></a>Inlined RAML types<a class="hash-link" href="#inlined-raml-types" title="Direct link to heading">#</a></h2><p>The simplest way to define a RAML type in Async is by defining your content inlined under the <code>payload</code> facet while using the appropriate schema format like so:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># The following is a RAML data type</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object</span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> string</span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">additionalProperties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>All content within the payload will be considered strictly RAML</strong>, except when using ‘$ref’ at the root of the payload (see the <a href="#referencing-external-raml-content-using-ref">previous section</a> for more details).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="isolated-raml-context"></a>Isolated RAML context<a class="hash-link" href="#isolated-raml-context" title="Direct link to heading">#</a></h3><p>When defining inlined types, its context is fully restricted from the content defined outside the payload facet.
This means that any reference to content defined in the <code>components</code> facet of the main Async API will not be resolved.</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Referencing types defined in async API components (invalid)</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">schemas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">User</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">channels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">users/signup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">subscribe</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">message</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> User </span><span class="token comment" style="color:#999988;font-style:italic">#unresolved reference</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="limited-raml-referencing-mechanism"></a>Limited RAML referencing mechanism<a class="hash-link" href="#limited-raml-referencing-mechanism" title="Direct link to heading">#</a></h3><p>RAML has its own referencing mechanism to include content from external files using a reserved yaml tag <code>!include</code>.
<strong>AMF will only support referencing external data type fragments using the <code>!include</code> tag.</strong>
Furthermore, this will only work in Async APIs defined in yaml format, as json has no way of defining tags.</p><p>As this syntax is valid within a RAML context, including data types fragments can be made at the root of the payload content,
or nested within other inlined content:</p><div class="container"><div class="row"><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Using include at root of payload</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token tag" style="color:#00009f">!include</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">type.raml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div style="padding:15px 5px" class="col col--6"><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Using include within inlined content</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/raml+yaml;version=1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">payload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> object</span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token tag" style="color:#00009f">!include</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">type.raml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-02-02T17:15:40.000Z" class="docLastUpdatedAt_1Qna">2/2/2021</time> by <strong>arielmirra</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/related/amf_conversion"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« AMF Conversion</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/related/json_schema_draft_2019_09_to_draft_7"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Json Schema Draft 2019-09 to Draft 7 Emission »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#referencing-external-raml-content-using-ref" class="table-of-contents__link">Referencing external RAML content using <code>$ref</code></a><ul><li><a href="#reference-to-data-type-fragments" class="table-of-contents__link">Reference to data type fragments</a></li><li><a href="#reference-to-types-in-library-fragments" class="table-of-contents__link">Reference to types in library fragments</a></li><li><a href="#reference-to-external-yamljson-files" class="table-of-contents__link">Reference to external yaml/json files</a></li></ul></li><li><a href="#inlined-raml-types" class="table-of-contents__link">Inlined RAML types</a><ul><li><a href="#isolated-raml-context" class="table-of-contents__link">Isolated RAML context</a></li><li><a href="#limited-raml-referencing-mechanism" class="table-of-contents__link">Limited RAML referencing mechanism</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/AML/aml">Get Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/aml-org/amf-aml" target="_blank" rel="noopener noreferrer" class="footer__link-item">AML</a></li><li class="footer__item"><a href="https://github.com/aml-org/aml-spec" target="_blank" rel="noopener noreferrer" class="footer__link-item">AML Spec</a></li><li class="footer__item"><a href="https://github.com/aml-org/amf" target="_blank" rel="noopener noreferrer" class="footer__link-item">AMF</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img class="footer__logo" src="/img/logos/amlLogo.svg"></div><div class="footer__copyright">Copyright © 2021 Mulesoft, LLC, a Salesforce company</div></div></div></footer></div>
<script src="/styles.3e225d29.js"></script>
<script src="/runtime~main.ec3c9e33.js"></script>
<script src="/main.fc69e7f1.js"></script>
<script src="/1.bb102a6f.js"></script>
<script src="/2.461c41ab.js"></script>
<script src="/1be78505.51367d36.js"></script>
<script src="/935f2afb.17b72296.js"></script>
<script src="/39.10c467ad.js"></script>
<script src="/96ed9e95.e96a2592.js"></script>
</body>
</html>